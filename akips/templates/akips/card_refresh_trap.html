{% load static %}

{% block content %}
<table class="table table-hover table-sm">
    <thead>
        <tr>
            <th>Ack</th>
            <th>Device</th>
            <th>Trap</th>
            <th>Recorded</th>
            <th>Incident Request</th>
            <th>Clear Trap</th>
        </tr>
    </thead>
    <tbody>
        {% for trap in traps %}
        <tr>
            <td>
                <div class="custom-control custom-switch">
                    {% if trap.ack %}
                    <input type="checkbox" class="custom-control-input ack-trap" id="ack-switch-{{ trap.id}}"
                        data-url="{% url 'ack_trap' trap.id %}" checked>
                    {% else %}
                    <input type="checkbox" class="custom-control-input ack-trap" id="ack-switch-{{ trap.id}}"
                        data-url="{% url 'ack_trap' trap.id %}">
                    {% endif %}
                    <label class="custom-control-label" for="ack-switch-{{ trap.id }}"></label>
                </div>
                </div>
            </td>
            <td><a href="{% url 'device' trap.device %}">{{ trap.device }}</a></td>
            <td><a href="{% url 'trap' trap.id %}">{{ trap.trap_oid }}</a></td>
            <td>{{ trap.tt|date:'Y-m-d H:i:s' }}</td>
            <td class="text-center">
                {% if trap.incident %}
                {{ trap.incident }}
                {% else %}
                <div class="form-check">
                    <input type="checkbox" class="form-check-input" name="event" value="trap_{{ trap.id }}">
                </div>
                {% endif %}
            </td>
            <td><button type="button" class="btn btn-primary btn-sm trap-clear"
                    data-url="{% url 'clear_trap' trap.id %}">Clear Trap</button></td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}